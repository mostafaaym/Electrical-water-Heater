/*
 * System.h
 *
 * Created: 9/6/2023 2:41:45 AM
 *  Author: abdel
 */ 


#ifndef SYSTEM_H_
#define SYSTEM_H_



/**********************************************************************************************************************

 *  FILE DESCRIPTION
 *  -------------------------------------------------------------------------------------------------------------------
 *         File:  <Write File Name>
 *       Module:  -
 *
 *  Description:  <Write File DESCRIPTION here>     
 *  
 *********************************************************************************************************************/


/**********************************************************************************************************************
 * INCLUDES
 *********************************************************************************************************************/
#define F_CPU 1000000UL
#include <avr/io.h>
#include <util/delay.h>
#include "System_CFG.h"
#include "BIT_MATH.h"
#include "ADC.h"
#include "BTN.h"
#include "Cooling.h"
#include "LED.h"
#include "Seven_Seg.h"
#include "Timer.h"
#include "PORT_Core.h"


/**********************************************************************************************************************
 *  GLOBAL CONSTANT MACROS
 *********************************************************************************************************************/


/**********************************************************************************************************************
 *  GLOBAL FUNCTION MACROS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL DATA TYPES AND STRUCTURES
 *********************************************************************************************************************/
Uint_8 MODE;

Uint_16 temp_arr[NUM_OF_TEMP_MEASURES];
Uint_16 desired_temp;
Uint_16 actual_temp;
Uint_16 avg_temp;

Uint_8 temp_measure_flag;
Uint_8 temp_measure_counter;
Uint_8 setting_counter;

Uint_16 toggle_flag;
Uint_16 arr_counter;

/**********************************************************************************************************************
 *  GLOBAL DATA PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

void SYS_init(void);
void MODE_ON(void);
void MODE_OFF(void);
void MODE_Set(void);
void SLEEP_MODE(void);

void temp_arr_init(void);
void add_new_temp(Uint_16 * arr , Uint_16 new_val);
Uint_16 calc_avg_temp(Uint_16 * arr);

void change_temp(void);

#endif /* SYSTEM_H_ */

/**********************************************************************************************************************
 *  END OF FILE: 
 *********************************************************************************************************************/








